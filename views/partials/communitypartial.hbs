<div class="col-md-4 mb-4 d-flex">
  <!-- Entire card becomes clickable -->
  <div 
    class="card shadow-sm border-0 rounded w-100 d-flex flex-column justify-content-between community-card"
    style="height: 100%; position: relative; cursor: pointer;"
    onclick="window.location.href='/chatroom?RoomID={{this.RoomID}}';"
  >
    <div class="card-body d-flex flex-column p-3">

      <!-- Top: image, name, heart -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <img 
          src="{{#if this.Image}}/uploads/{{this.Image}}{{else}}/images/community1.jpg{{/if}}" 
          alt="Community Icon"
          class="rounded-circle me-2"
          style="width: 40px; height: 40px; object-fit: cover;"
        />

        <h6 class="mb-0 text-white flex-grow-1 ms-2">{{this.ChatName}}</h6>

        <!-- Favorite form (no change) -->
        <form 
          method="POST" 
          action="/community/favorite/{{this.RoomID}}" 
          class="favorite-form"
          onclick="event.stopPropagation();"
        >
          {{> iheart}} 
        </form>
      </div>

      <!-- Join Chat button (optional, for accessibility) -->
      <a href="/chatroom?RoomID={{this.RoomID}}" class="btn btn-outline-light btn-sm mt-auto w-100">
        Join Chat
      </a>
    </div>

    <!-- Tags under the card -->
    <div class="community-tags px-3 pb-3 d-flex flex-wrap gap-2">
      {{#each (split this.Keywords) }}
        <span class="badge bg-light text-dark community-tag">{{ this }}</span>
      {{/each}}
    </div>
  </div>
</div>

