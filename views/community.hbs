<!-- Include Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
  /* Title color */
  .page-title {
    color: #8b1d2e;
  }

  .expand-btn {
    width: 48px;               /* initial fixed width */
    overflow: hidden;          /* hide overflowing text */
    white-space: nowrap;
    transition: width 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: flex-start;  /* keep icon aligned left */
    padding: 0 12px;           /* horizontal padding for breathing room */
    box-sizing: border-box;    /* include padding in width */
    background-color: #8b1d2e; /* button background color */
    border-color: #8b1d2e;     /* button border color */
  }

  .expand-btn i {
    flex-shrink: 0;            /* keep icon size stable */
    font-size: 1.25rem;
    color: white;
  }

  .expand-btn:hover {
    width: 180px;              /* expand width on hover */
    background-color: #a52333; /* slightly darker on hover */
    border-color: #a52333;
  }

  .expand-btn span {
    opacity: 0;                /* hide text initially */
    transition: opacity 0.3s ease 0.1s;
    white-space: nowrap;
    color: white;
    margin-left: 8px;          /* spacing between icon and text */
  }

  .expand-btn:hover span {
    opacity: 1;                /* fade in text on hover */
  }
</style>

<div class="container mt-5 text-center">
  <h1 class="page-title mb-4">Choose Your Community</h1>

  <!-- Floating Create Community Button -->
  <div class="text-end mb-4">
    <a href="/create-community" 
       class="btn expand-btn d-inline-flex align-items-center">
      <i class="bi bi-plus-lg"></i>
      <span>Create Community</span>
    </a>
  </div>

  <!-- Search Bar -->
  <div class="row justify-content-center mb-5">
    <div class="col-md-6">
      <form class="d-flex" role="search">
        <div class="input-group input-group-lg">
          <span class="input-group-text" style="background-color: #8b1d2e; border-color: #8b1d2e;">
            <i class="bi bi-search" style="color: white;"></i>
          </span>
          <input 
            class="form-control border-2" 
            type="search" 
            placeholder="Search for a community..." 
            aria-label="Search"
            style="border-color: #8b1d2e; background-color: #f4d1d1; color: #8b1d2e;"
          >
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Community Grid -->
<div class="container">
  <div class="row g-4">
    {{#each (range 1 15)}}
      {{>communitypartial}}
    {{/each}}
  </div>
</div>








